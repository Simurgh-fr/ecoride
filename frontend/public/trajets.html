<!DOCTYPE html>
<html lang="fr">
<head>
  <meta charset="UTF-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1.0" />
  <title>Trajets</title>
  <link rel="stylesheet" href="/src/css/style.css" />
  <link rel="stylesheet" href="/src/css/header.css" />
  <link rel="stylesheet" href="/src/css/footer.css" />
</head>
<body>
  <script type="module">
    import { createHeader } from "../src/components/header.js";
    import { createFooter } from "../src/components/footer.js";
    createHeader();
    createFooter();
  </script>

  <main>
    <h1>Trajets</h1>

    <form id="search-form">
      <input type="text" id="ville-depart" name="ville_depart" placeholder="Ville de départ" required />
      <input type="text" id="ville-arrivee" name="ville_arrivee" placeholder="Ville d’arrivée" required />
      <input type="date" id="date-trajet" name="date-trajet" />
      <div id="barre-filtres">
        <button type="button" class="tag-toggle tag-ok" id="filtre-ecologique">🌿 Écologique</button>
        <button type="button" class="tag-toggle tag-ok" id="filtre-fumeur" title="Fumeur accepté">🚬</button>
        <button type="button" class="tag-toggle tag-ok" id="filtre-animaux" title="Animaux acceptés">🐾</button>
        <input type="number" id="filtre-prix-max" placeholder="Prix max (€)" min="0" step="1" />
        <input type="number" id="filtre-duree-max" placeholder="Durée max (min)" min="0" step="1" />
        <div class="note-wrapper">
          <select id="filtre-note-min">
            <option value="">Note min</option>
            <option value="1">1 ⭐</option>
            <option value="2">2 ⭐</option>
            <option value="3">3 ⭐</option>
            <option value="4">4 ⭐</option>
            <option value="5">5 ⭐</option>
          </select>
        </div>
      </div>
      <button type="submit">Rechercher</button>
    </form>
    
    <div id="resultats-trajets" style="display: none;"></div>

    <!-- Vue détaillée d’un covoiturage sélectionné -->
    <section id="fiche-detaillee" style="display: none; padding: 1rem; border: 1px solid #ccc; margin-top: 2rem;">
      <button onclick="fermerFiche()" style="float: right;">Fermer ✖</button>
      <div id="contenu-detail">
        <!-- Les détails du trajet s’afficheront ici -->
      </div>
    </section>
  </main>

  <script type="module" src="/src/js/search-trajets.js"></script>
  <script type="module" src="../src/js/detail-trajet.js"></script></body>
</html>