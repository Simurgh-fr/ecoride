<!DOCTYPE html>
<html lang="fr">
<head>
  <meta charset="UTF-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1.0" />
  <title>EcoRide - Trajets</title>
  <link rel="stylesheet" href="/src/css/style.css" />
  <link rel="stylesheet" href="/src/css/header.css" />
  <link rel="stylesheet" href="/src/css/footer.css" />
  <link rel="icon" type="image/svg+xml" href="favicon.svg">
</head>
<body>

  <!-- Bouton pour ouvrir la modale -->
  <button type="button" onclick="document.getElementById('modal-ajout').style.display='block'" class="btn-cta" style="margin: 1rem auto; display: block;">
    ‚ûï Proposer un trajet
  </button>

  <!-- Fen√™tre modale -->
  <div id="modal-ajout" style="display:none; position:fixed; top:0; left:0; width:100%; height:100%; background:rgba(0,0,0,0.5); z-index:1000;">
    <div style="background:#fff; width:90%; max-width:600px; margin:50px auto; padding:20px; border-radius:8px; position:relative;">
      <a href="#" onclick="document.getElementById('modal-ajout').style.display='none'" style="position:absolute; top:10px; right:15px; font-size:20px;">‚úñÔ∏è</a>
      <iframe src="ajout-trajet.php" width="100%" height="600" style="border:none;"></iframe>
    </div>
  </div>

  <main>
    <h1>Trajets</h1>

    <form id="search-form">
      <input type="text" id="ville-depart" name="ville_depart" placeholder="Ville de d√©part" required />
      <input type="text" id="ville-arrivee" name="ville_arrivee" placeholder="Ville d‚Äôarriv√©e" required />
      <input type="date" id="date-trajet" name="date-trajet" />
      <div id="barre-filtres">
        <label class="tag-toggle" id="filtre-ecologique">
          <input type="checkbox" name="ecologique" id="input_ecologique" hidden />
          üåø √âcologique
        </label>
        <label class="tag-toggle" id="filtre-fumeur" title="Fumeur accept√©">
          <input type="checkbox" name="fumeur" id="input_fumeur" hidden />
          üö¨
        </label>
        <label class="tag-toggle" id="filtre-animaux" title="Animaux accept√©s">
          <input type="checkbox" name="animaux" id="input_animaux" hidden />
          üêæ
        </label>
        <input type="number" id="filtre-prix-max" placeholder="Prix max (‚Ç¨)" min="0" step="1" />
        <input type="number" id="filtre-duree-max" placeholder="Dur√©e max (min)" min="0" step="1" />
        <div class="note-wrapper">
          <select id="filtre-note-min">
            <option value="">Note min</option>
            <option value="1">1 ‚≠ê</option>
            <option value="2">2 ‚≠ê</option>
            <option value="3">3 ‚≠ê</option>
            <option value="4">4 ‚≠ê</option>
            <option value="5">5 ‚≠ê</option>
          </select>
        </div>
      </div>
      <button type="submit">Rechercher</button>
    </form>
    
    <div id="resultats-trajets" style="display: none;"></div>

    <!-- Vue d√©taill√©e d‚Äôun covoiturage s√©lectionn√© -->
    <section id="fiche-detaillee" style="display: none; padding: 1rem; border: 1px solid #ccc; margin-top: 2rem;">
      <button onclick="fermerFiche()" style="float: right;">Fermer ‚úñ</button>
      <div id="contenu-detail">
        <!-- Les d√©tails du trajet s‚Äôafficheront ici -->
        <p id="detail-preferences">
          <strong>Pr√©f√©rences :</strong>
          <span id="pref-fumeur"></span> | <span id="pref-animaux"></span>
        </p>
      </div>
    </section>
  </main>

  <script type="module" src="/src/js/search-trajets.js"></script>
  <script type="module" src="/src/js/avis.js"></script>
  <script type="module" src="../src/js/script.js"></script>

</body>
</html>